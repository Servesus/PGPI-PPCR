var RedNaoFBCheckBox=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=773)}({0:function(e,t){e.exports=React},10:function(e,t){e.exports=RedNaoSharedCore.default("shared/core/Store/StoreBase")},121:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Options/OptionItem")},154:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Core/Calulators/OptionsCalculator")},21:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/GetFieldOptions")},22:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/GetField")},23:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/GetModel")},24:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldWithPriceBase.Model")},37:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldWithPriceBase")},4:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldBase.options")},5:function(e,t){e.exports=RedNaoSharedCore.default("shared/core/Events/EventManager")},7:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldWithPriceBase.Options")},773:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(37),o=n(7),l=n(24),u=n(154);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y,h,b,m,O=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=s(this,d(t).call(this,e,n))).SelectedValues=void 0,r}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,l["FBFieldWithPriceBaseModel"]),n=t,(r=[{key:"RecreateSelectedOptions",value:function(){this.SelectedValues=this.Options.Options.filter(function(e){return e.Selected}).map(function(e){return e.Id})}},{key:"InitializePriceCalculator",value:function(){this.calculator=new u.OptionsCalculator,this.calculator.Initialize(this)}},{key:"GetStoresInformation",value:function(){return!0}},{key:"GetIsUsed",value:function(){return this.SelectedValues.length>0}},{key:"GetValue",value:function(){return this.GetIsVisible()?this.SelectedValues:[]}},{key:"InternalSerialize",value:function(e){var n=this;f(d(t.prototype),"InternalSerialize",this).call(this,e),e.SelectedValues=this.GetSelectedOptions().map(function(e){return e.ToObject()});for(var r=function(t){var r=n.calculator.OptionsTotal.find(function(n){return n.Id==e.SelectedValues[t].Id});null==r&&(r={Id:e.SelectedValues[t].Id,Price:0,Quantity:0,RegularPrice:0,SalePrice:0,Total:0}),e.SelectedValues[t]=Object.assign(e.SelectedValues[t],r)},i=0;i<e.SelectedValues.length;i++)r(i)}},{key:"GetSelectedOptions",value:function(){var e=this;return this.GetIsVisible()?this.Options.Options.filter(function(t){return e.SelectedValues.some(function(e){return e.toString()==t.Id.toString()})}):[]}},{key:"InitializeStartingValues",value:function(){var e=this.Options.Options.filter(function(e){return e.Selected}).map(function(e){return e.Id});if(null!=this.GetPreviousData()){var t=this.GetPreviousDataProperty("SelectedValues",[]);e=this.Options.Options.filter(function(e){return t.some(function(t){return t.Id==e.Id})}).map(function(e){return e.Id})}this.SelectedValues=e,this.Quantity=this.GetPreviousDataProperty("Quantity",this.ParseNumber(this.Options.QuantityDefaultValue))}},{key:"GetDynamicFieldNames",value:function(){return["FBCheckBox"]}}])&&c(n.prototype,r),i&&c(n,i),t}(),v=n(23),P=n(4),g=n(21),S=n(22),F=n(121),I=n(10);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t,n){return(E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _,G,R,k,T,C,V=(y=Object(I.StoreDataType)(F.OptionItem),m=function(e){function t(){var e,n,r,i,o,l,u,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=new Array(c),f=0;f<c;f++)s[f]=arguments[f];return r=this,(n=!(i=(e=w(t)).call.apply(e,[this].concat(s)))||"object"!==B(i)&&"function"!=typeof i?x(r):i).Placeholder=void 0,o=n,l="Options",u=b,a=x(n),u&&Object.defineProperty(o,l,{enumerable:u.enumerable,configurable:u.configurable,writable:u.writable,value:u.initializer?u.initializer.call(a):void 0}),n}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(t,o["FBFieldWithPriceBaseOptions"]),n=t,(r=[{key:"LoadDefaultValues",value:function(){E(w(t.prototype),"LoadDefaultValues",this).call(this),this.Options=[],this.Type=P.FieldTypeEnum.Checkbox,this.Label="Checkbox",this.Placeholder="",this.PriceType=o.PriceTypeEnum.options,this.Options=[{Id:1,PriceType:o.PriceTypeEnum.fixed_amount,SalePrice:"",RegularPrice:"",Label:"Option 1"},{Id:2,PriceType:o.PriceTypeEnum.fixed_amount,SalePrice:"",RegularPrice:"",Label:"Option 2"},{Id:3,PriceType:o.PriceTypeEnum.fixed_amount,SalePrice:"",RegularPrice:"",Label:"Option 3"}]}}])&&M(n.prototype,r),i&&M(n,i),t}(),_=(h=m).prototype,G="Options",R=[y],k={configurable:!0,enumerable:!0,writable:!0,initializer:null},C={},Object.keys(k).forEach(function(e){C[e]=k[e]}),C.enumerable=!!C.enumerable,C.configurable=!!C.configurable,("value"in C||C.initializer)&&(C.writable=!0),C=R.slice().reverse().reduce(function(e,t){return t(_,G,e)||e},C),T&&void 0!==C.initializer&&(C.value=C.initializer?C.initializer.call(T):void 0,C.initializer=void 0),void 0===C.initializer&&(Object.defineProperty(_,G,C),C=null),b=C,h),Q=n(5);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"FBCheckBox",function(){return q});var q=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),D(this,L(t).call(this,e))}var n,l,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,i["FBFieldWithPriceBase"]),n=t,(l=[{key:"componentWillReceiveProps",value:function(e,t){if(this.Model.Parent.IsDesign){this.Model.Options.Options.find(function(e){return e.Selected});this.Model.SelectedValues=this.Model.Options.Options.filter(function(e){return e.Selected}).map(function(e){return e.Id}),this.Model.Quantity=this.Model.Options.QuantityDefaultValue,this.Model.Refresh()}}},{key:"SubRender",value:function(){return this.Model.Options.ShowQuantitySelector&&this.Model.Options.PriceType!=o.PriceTypeEnum.quantity?"bottom"==this.Model.Options.QuantityPosition||"right"==this.Model.Options.QuantityPosition?r.createElement(r.Fragment,null,this.GetInput(this.Model.Options.QuantityPosition),this.GetQuantityInput(),this.GetPriceOrRequiredBox()):r.createElement(r.Fragment,null,this.GetQuantityInput(),this.GetInput(this.Model.Options.QuantityPosition),this.GetPriceOrRequiredBox()):r.createElement(r.Fragment,null,this.GetInput(""),this.GetPriceOrRequiredBox())}},{key:"GetDynamicFieldNames",value:function(){return["FBCheckBox"]}},{key:"GetQuantityInput",value:function(){var e=this;return r.createElement("div",{className:"rnTextFieldQuantity "+this.Model.Options.QuantityPosition},r.createElement("div",{className:"rednaoLabel"},r.createElement("label",{style:{fontWeight:"bold"}},this.Model.Options.QuantityLabel)),r.createElement("input",{className:"rnInputQuantity",placeholder:this.Model.Options.QuantityPlaceholder,style:{width:"100%"},type:"text",value:this.Model.Quantity,onChange:function(t){e.Model.Quantity=e.Model.ParseNumber(t.target.value),e.Model.Refresh()}}))}},{key:"GetInput",value:function(e){var t=this;return r.createElement("div",{className:"rnTextFieldInput "+e},this.GetLabel(),this.Model.Options.Options.map(function(e){return r.createElement("div",{key:e.Id,style:{display:"flex",alignItems:"center"}},r.createElement("input",{name:t.GetOptionId(e.Id),id:t.GetOptionId(e.Id),onChange:function(n){return t.ToggleSelection(e,n.target.checked)},type:"checkbox",checked:t.Model.SelectedValues.indexOf(e.Id)>-1,value:e.Id}),r.createElement("label",{className:"rnOptionItem",htmlFor:t.GetOptionId(e.Id),style:{marginLeft:5,cursor:"pointer"}},e.Label))}))}},{key:"GetOptionId",value:function(e){var t=e.toString();t=this.props.Model.Options.Id+"_"+t;for(var n=this.props.Model.FormBuilder;null!=n.GetId();)t=n.GetId()+"_"+t,n=n.FormBuilder;return"field_"+t}},{key:"ToggleSelection",value:function(e,t){var n=this.Model.SelectedValues.slice(0);t&&-1==n.indexOf(e.Id)&&n.push(e.Id),!t&&n.indexOf(e.Id)>=0&&n.splice(n.indexOf(e.Id),1),n.length>0&&this.Model.RemoveError("required"),this.Model.SelectedValues=n,this.Model.Quantity=n.length>0&&0==this.Model.Quantity?1:this.Model.Quantity,this.Model.FireValueChanged()}}])&&z(n.prototype,l),u&&z(n,u),t}();q.defaultProps={},Q.EventManager.Subscribe(v.GetModel,function(e){if(e.Options.Type==P.FieldTypeEnum.Checkbox)return new O(e.Options,e.parent).Initialize(e.PreviousData)}),Q.EventManager.Subscribe(g.GetFieldOptions,function(e){if(e.Type==P.FieldTypeEnum.Checkbox)return new V}),Q.EventManager.Subscribe(S.GetField,function(e){if(e.Model.Options.Type==P.FieldTypeEnum.Checkbox)return r.createElement(q,{Model:e.Model})})}});
//# sourceMappingURL=FBCheckBox_bundle.js.map