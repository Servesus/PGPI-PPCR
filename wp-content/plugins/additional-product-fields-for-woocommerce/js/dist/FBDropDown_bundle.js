var RedNaoFBDropDown=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=779)}({0:function(e,t){e.exports=React},10:function(e,t){e.exports=RedNaoSharedCore.default("shared/core/Store/StoreBase")},121:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Options/OptionItem")},154:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Core/Calulators/OptionsCalculator")},21:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/GetFieldOptions")},22:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/GetField")},23:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Events/GetModel")},24:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldWithPriceBase.Model")},37:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldWithPriceBase")},4:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldBase.options")},5:function(e,t){e.exports=RedNaoSharedCore.default("shared/core/Events/EventManager")},7:function(e,t){e.exports=RedNaoFormBuilder.default("FormBuilder/Fields/Core/FBFieldWithPriceBase.Options")},779:function(e,t,n){"use strict";n.r(t);var r,o,i,l,u=n(0),a=n(7),c=n(4),s=n(121),f=n(10);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v,O,P,g,S,F,w=(r=Object(f.StoreDataType)(s.OptionItem),l=function(e){function t(){var e,n,r,o,l,u,a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,f=new Array(s),d=0;d<s;d++)f[d]=arguments[d];return r=this,(n=!(o=(e=b(t)).call.apply(e,[this].concat(f)))||"object"!==p(o)&&"function"!=typeof o?y(r):o).Placeholder=void 0,l=n,u="Options",a=i,c=y(n),a&&Object.defineProperty(l,u,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(c):void 0}),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,a["FBFieldWithPriceBaseOptions"]),n=t,(r=[{key:"LoadDefaultValues",value:function(){h(b(t.prototype),"LoadDefaultValues",this).call(this),this.Options=[],this.Type=c.FieldTypeEnum.DropDown,this.Label="Dropdown",this.Placeholder="",this.PriceType=a.PriceTypeEnum.options,this.Options=[{Id:1,PriceType:a.PriceTypeEnum.fixed_amount,SalePrice:"",RegularPrice:"",Label:"Option 1"},{Id:2,PriceType:a.PriceTypeEnum.fixed_amount,SalePrice:"",RegularPrice:"",Label:"Option 2"},{Id:3,PriceType:a.PriceTypeEnum.fixed_amount,SalePrice:"",RegularPrice:"",Label:"Option 3"}]}}])&&d(n.prototype,r),o&&d(n,o),t}(),v=(o=l).prototype,O="Options",P=[r],g={configurable:!0,enumerable:!0,writable:!0,initializer:null},F={},Object.keys(g).forEach(function(e){F[e]=g[e]}),F.enumerable=!!F.enumerable,F.configurable=!!F.configurable,("value"in F||F.initializer)&&(F.writable=!0),F=P.slice().reverse().reduce(function(e,t){return t(v,O,e)||e},F),S&&void 0!==F.initializer&&(F.value=F.initializer?F.initializer.call(S):void 0,F.initializer=void 0),void 0===F.initializer&&(Object.defineProperty(v,O,F),F=null),i=F,o),M=n(37),E=n(24),B=n(154);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=R(this,_(t).call(this,e,n))).SelectedValues=void 0,r}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,E["FBFieldWithPriceBaseModel"]),n=t,(r=[{key:"RecreateSelectedOptions",value:function(){this.SelectedValues=this.Options.Options.filter(function(e){return e.Selected}).map(function(e){return e.Id})}},{key:"GetValue",value:function(){return this.GetIsVisible()?this.SelectedValues:[]}},{key:"InitializePriceCalculator",value:function(){this.calculator=new B.OptionsCalculator,this.calculator.Initialize(this)}},{key:"GetSelectedOptions",value:function(){var e=this;return this.GetIsVisible()?this.Options.Options.filter(function(t){return e.SelectedValues.some(function(e){return e.toString()==t.Id.toString()})}):[]}},{key:"GetIsUsed",value:function(){return this.SelectedValues.length>0}},{key:"GetStoresInformation",value:function(){return!0}},{key:"InternalSerialize",value:function(e){var n=this;T(_(t.prototype),"InternalSerialize",this).call(this,e),e.SelectedValues=this.GetSelectedOptions().map(function(e){return e.ToObject()});var r=!0,o=!1,i=void 0;try{for(var l,u=function(){var e=l.value;e.Totals={};var t=n.calculator.OptionsTotal.find(function(t){return t.Id==e.Id});null==t&&(t={Id:e.Id,Price:0,Quantity:0,RegularPrice:0,SalePrice:0,Total:0}),Object.assign(e,t)},a=e.SelectedValues[Symbol.iterator]();!(r=(l=a.next()).done);r=!0)u()}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}}},{key:"InitializeStartingValues",value:function(){var e=this.Options.Options.find(function(e){return e.Selected});if(null!=this.GetPreviousData()){var t=this.GetPreviousDataProperty("SelectedValues",[]);e=this.Options.Options.find(function(e){return t.some(function(t){return t.Id==e.Id})})}this.SelectedValues=e?[e.Id]:[],this.Quantity=this.GetPreviousDataProperty("Quantity",this.ParseNumber(this.Options.QuantityDefaultValue))}},{key:"GetDynamicFieldNames",value:function(){return["FBDropDown"]}}])&&I(n.prototype,r),o&&I(n,o),t}(),G=n(23),Q=n(21),V=n(22),k=n(5);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"FBDropDown",function(){return q});var q=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),z(this,L(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,M["FBFieldWithPriceBase"]),n=t,(r=[{key:"componentWillReceiveProps",value:function(e,t){if(this.Model.Parent.IsDesign){var n=this.props.Model.Options.Options.find(function(e){return e.Selected});this.Model.SelectedValues=n?[n.Id]:[],this.Model.Quantity=this.Model.Options.QuantityDefaultValue,this.Model.Refresh()}}},{key:"SubRender",value:function(){return this.Model.Options.ShowQuantitySelector&&this.Model.Options.PriceType!=a.PriceTypeEnum.quantity?"bottom"==this.Model.Options.QuantityPosition||"right"==this.Model.Options.QuantityPosition?u.createElement(u.Fragment,null,this.GetInput(this.Model.Options.QuantityPosition),this.GetQuantityInput(),this.GetPriceOrRequiredBox()):u.createElement(u.Fragment,null,this.GetQuantityInput(),this.GetInput(this.Model.Options.QuantityPosition),this.GetPriceOrRequiredBox()):u.createElement(u.Fragment,null,this.GetInput(""),this.GetPriceOrRequiredBox())}},{key:"GetQuantityInput",value:function(){var e=this;return u.createElement("div",{className:"rnTextFieldQuantity "+this.Model.Options.QuantityPosition},u.createElement("div",{className:"rednaoLabel"},u.createElement("label",{style:{fontWeight:"bold"}},this.Model.Options.QuantityLabel)),u.createElement("input",{className:"rnInputQuantity",placeholder:this.Model.Options.QuantityPlaceholder,style:{width:"100%"},type:"text",value:this.Model.Quantity,onChange:function(t){e.Model.Quantity=e.Model.ParseNumber(t.target.value),e.Model.Refresh()}}))}},{key:"GetInput",value:function(e){var t=this;return u.createElement("div",{className:"rnTextFieldInput "+e},this.GetLabel(),u.createElement("select",{className:"rnInputPrice",placeholder:this.Model.Options.Placeholder,style:{width:"100%"},value:0==this.Model.SelectedValues.length?"":this.Model.SelectedValues[0],onChange:function(e){return t.OnChange(e)}},u.createElement("option",{key:-1,value:""},""!=this.Model.Options.Placeholder?this.Model.Options.Placeholder:"Please select a value"),this.Model.Options.Options.map(function(e){return u.createElement("option",{key:e.Id,value:e.Id},e.Label)})))}},{key:"OnChange",value:function(e){""!=e.target.value&&this.Model.RemoveError("required"),this.Model.SelectedValues="-1"!=e.target.value.toString()?[e.target.value]:[],this.Model.Quantity="-1"!=e.target.value.toString()&&0==this.Model.Quantity?1:this.Model.Quantity,this.Model.FireValueChanged()}}])&&C(n.prototype,r),o&&C(n,o),t}();q.defaultProps={},k.EventManager.Subscribe(G.GetModel,function(e){if(e.Options.Type==c.FieldTypeEnum.DropDown)return new D(e.Options,e.parent).Initialize(e.PreviousData)}),k.EventManager.Subscribe(Q.GetFieldOptions,function(e){if(e.Type==c.FieldTypeEnum.DropDown)return new w}),k.EventManager.Subscribe(V.GetField,function(e){if(e.Model.Options.Type==c.FieldTypeEnum.DropDown)return u.createElement(q,{Model:e.Model})})}});
//# sourceMappingURL=FBDropDown_bundle.js.map